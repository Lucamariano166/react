{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lucam\\\\Documents\\\\Lucas\\\\react-http-final\\\\src\\\\components\\\\Usuarios\\\\Usuarios.js\";\nimport React, { Component } from 'react';\nimport AdicionarUsuario from '../AdicionarUsuario/AdicionarUsuario';\nimport Usuario from '../Usuario/Usuario';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Usuarios extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      usuarios: []\n    };\n    this.adicionarUsuario = this.adicionarUsuario.bind(this);\n  }\n\n  adicionarUsuario(usuario) {\n    const usuarios = [...this.state.usuarios, usuario];\n    this.setState({\n      usuarios: usuarios\n    });\n  }\n\n  removerUsuario(usuario) {\n    if (window.confirm(`Tem certeza que deseja remover \"${usuario.nome} ${usuario.sobrenome}\"?`)) {\n      fetch(`https://reqres.in/api/users/${usuario.id}`, {\n        method: 'DELETE'\n      }).then(resposta => {\n        if (resposta.ok) {\n          let usuarios = this.state.usuarios;\n          usuarios = usuarios.filter(x => x.id !== usuario.id);\n          this.setState({\n            usuarios: usuarios\n          });\n        }\n      });\n    }\n  }\n\n  componentDidMount() {\n    fetch('https://reqres.in/api/users').then(resposta => resposta.json()).then(dados => {\n      const usuarios = dados.data.map(usuario => ({\n        id: usuario.id,\n        nome: usuario.first_name,\n        sobrenome: usuario.last_name,\n        email: usuario.email\n      }));\n      this.setState({\n        usuarios\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(AdicionarUsuario, {\n        adicionarUsuario: this.adicionarUsuario\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), this.state.usuarios.map(usuario => /*#__PURE__*/_jsxDEV(Usuario, {\n        usuario: usuario,\n        removerUsuario: this.removerUsuario.bind(this, usuario)\n      }, usuario.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true);\n  }\n\n}\n\nexport default Usuarios;","map":{"version":3,"names":["React","Component","AdicionarUsuario","Usuario","Usuarios","constructor","props","state","usuarios","adicionarUsuario","bind","usuario","setState","removerUsuario","window","confirm","nome","sobrenome","fetch","id","method","then","resposta","ok","filter","x","componentDidMount","json","dados","data","map","first_name","last_name","email","render"],"sources":["C:/Users/lucam/Documents/Lucas/react-http-final/src/components/Usuarios/Usuarios.js"],"sourcesContent":["import React, { Component } from 'react'\n\nimport AdicionarUsuario from '../AdicionarUsuario/AdicionarUsuario'\nimport Usuario from '../Usuario/Usuario'\n\nclass Usuarios extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = { usuarios: [] }\n\n    this.adicionarUsuario = this.adicionarUsuario.bind(this)\n  }\n\n  adicionarUsuario(usuario) {\n    const usuarios = [...this.state.usuarios, usuario]\n    this.setState({ usuarios: usuarios })\n  }\n\n  removerUsuario(usuario) {\n    if (window.confirm(`Tem certeza que deseja remover \"${usuario.nome} ${usuario.sobrenome}\"?`)) {\n      fetch(`https://reqres.in/api/users/${usuario.id}`, {\n        method: 'DELETE'\n      })\n        .then(resposta => {\n          if (resposta.ok) {\n            let usuarios = this.state.usuarios\n            usuarios = usuarios.filter(x => x.id !== usuario.id)\n            this.setState({ usuarios: usuarios })\n          }\n        })\n    }\n  }\n\n  componentDidMount() {\n    fetch('https://reqres.in/api/users')\n      .then(resposta => resposta.json())\n      .then(dados => {\n        const usuarios = dados.data.map(usuario => ({\n          id: usuario.id,\n          nome: usuario.first_name,\n          sobrenome: usuario.last_name,\n          email: usuario.email\n        }))\n\n        this.setState({ usuarios })\n      })\n  }\n\n  render() {\n    return (\n      <>\n        <AdicionarUsuario adicionarUsuario={this.adicionarUsuario} />\n\n        {this.state.usuarios.map(usuario => (\n          <Usuario key={usuario.id}\n            usuario={usuario}\n            removerUsuario={this.removerUsuario.bind(this, usuario)}\n          />\n        ))}\n      </>\n    )\n  }\n}\n\nexport default Usuarios"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,gBAAP,MAA6B,sCAA7B;AACA,OAAOC,OAAP,MAAoB,oBAApB;;;;AAEA,MAAMC,QAAN,SAAuBH,SAAvB,CAAiC;EAE/BI,WAAW,CAACC,KAAD,EAAQ;IACjB,MAAMA,KAAN;IACA,KAAKC,KAAL,GAAa;MAAEC,QAAQ,EAAE;IAAZ,CAAb;IAEA,KAAKC,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBC,IAAtB,CAA2B,IAA3B,CAAxB;EACD;;EAEDD,gBAAgB,CAACE,OAAD,EAAU;IACxB,MAAMH,QAAQ,GAAG,CAAC,GAAG,KAAKD,KAAL,CAAWC,QAAf,EAAyBG,OAAzB,CAAjB;IACA,KAAKC,QAAL,CAAc;MAAEJ,QAAQ,EAAEA;IAAZ,CAAd;EACD;;EAEDK,cAAc,CAACF,OAAD,EAAU;IACtB,IAAIG,MAAM,CAACC,OAAP,CAAgB,mCAAkCJ,OAAO,CAACK,IAAK,IAAGL,OAAO,CAACM,SAAU,IAApF,CAAJ,EAA8F;MAC5FC,KAAK,CAAE,+BAA8BP,OAAO,CAACQ,EAAG,EAA3C,EAA8C;QACjDC,MAAM,EAAE;MADyC,CAA9C,CAAL,CAGGC,IAHH,CAGQC,QAAQ,IAAI;QAChB,IAAIA,QAAQ,CAACC,EAAb,EAAiB;UACf,IAAIf,QAAQ,GAAG,KAAKD,KAAL,CAAWC,QAA1B;UACAA,QAAQ,GAAGA,QAAQ,CAACgB,MAAT,CAAgBC,CAAC,IAAIA,CAAC,CAACN,EAAF,KAASR,OAAO,CAACQ,EAAtC,CAAX;UACA,KAAKP,QAAL,CAAc;YAAEJ,QAAQ,EAAEA;UAAZ,CAAd;QACD;MACF,CATH;IAUD;EACF;;EAEDkB,iBAAiB,GAAG;IAClBR,KAAK,CAAC,6BAAD,CAAL,CACGG,IADH,CACQC,QAAQ,IAAIA,QAAQ,CAACK,IAAT,EADpB,EAEGN,IAFH,CAEQO,KAAK,IAAI;MACb,MAAMpB,QAAQ,GAAGoB,KAAK,CAACC,IAAN,CAAWC,GAAX,CAAenB,OAAO,KAAK;QAC1CQ,EAAE,EAAER,OAAO,CAACQ,EAD8B;QAE1CH,IAAI,EAAEL,OAAO,CAACoB,UAF4B;QAG1Cd,SAAS,EAAEN,OAAO,CAACqB,SAHuB;QAI1CC,KAAK,EAAEtB,OAAO,CAACsB;MAJ2B,CAAL,CAAtB,CAAjB;MAOA,KAAKrB,QAAL,CAAc;QAAEJ;MAAF,CAAd;IACD,CAXH;EAYD;;EAED0B,MAAM,GAAG;IACP,oBACE;MAAA,wBACE,QAAC,gBAAD;QAAkB,gBAAgB,EAAE,KAAKzB;MAAzC;QAAA;QAAA;QAAA;MAAA,QADF,EAGG,KAAKF,KAAL,CAAWC,QAAX,CAAoBsB,GAApB,CAAwBnB,OAAO,iBAC9B,QAAC,OAAD;QACE,OAAO,EAAEA,OADX;QAEE,cAAc,EAAE,KAAKE,cAAL,CAAoBH,IAApB,CAAyB,IAAzB,EAA+BC,OAA/B;MAFlB,GAAcA,OAAO,CAACQ,EAAtB;QAAA;QAAA;QAAA;MAAA,QADD,CAHH;IAAA,gBADF;EAYD;;AAzD8B;;AA4DjC,eAAef,QAAf"},"metadata":{},"sourceType":"module"}